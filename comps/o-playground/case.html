<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>demo code use case</title>
    <script src="https://cdn.jsdelivr.net/gh/kirakiray/ofa.js/dist/ofa.min.js#debug"></script>
    <!-- <script
      src="http://localhost:3348/packages/ofa/main.mjs#debug"
      type="module"
    ></script> -->
    <link
      rel="stylesheet"
      href="https://core.noneos.com/nos-tool/css/palette.css"
    />
    <link
      rel="stylesheet"
      href="https://core.noneos.com/nos-tool/css/theme.css"
    />
  </head>
  <body>
    <l-m src="./o-playground.html"></l-m>

    <o-playground style="--editor-height: 300px">
      <code>
        <div id="target1">
          <p>Hello NoneOS Demo Code</p>
        </div>
        <script>
          let count = 0;
          setInterval(() => {
            $("#target1").text = "change text " + count++;
          }, 500);
        </script>
      </code>
    </o-playground>

    <br />

    <o-playground style="--editor-height: 500px">
      <code path="demo.html" preview unimportant>
        <template>
          <o-page src="./demo-page.html"></o-page>
        </template>
      </code>
      <code path="demo-page.html">
        <template page>
          <l-m src="./cc.html"></l-m>
          <div id="target1">
            <p>Hello NoneOS Demo Code</p>
          </div>
          <cc-comp></cc-comp>
        </template>
      </code>
      <code path="cc.html" active>
        <template component>
          <style>
            :host {
              display: block;
            }
          </style>
          <h3>{{title}}</h3>
          <script>
            export default async ({ load }) => {
              return {
                tag: "cc-comp",
                data: {
                  title: "NoneOS 组件示例",
                },
              };
            };
          </script>
        </template>
      </code>
    </o-playground>

    <br>

    <!-- <o-playground style="--editor-height: 500px">
      <code>
        <template page>
          <style>
            :host {
              display: block;
              border: 1px solid red;
              padding: 10px;
            }
            input {
              margin: 5px;
              padding: 5px;
            }
          </style>
          <div>
            <h3>邮箱验证示例</h3>
            <input
              type="email"
              :value="email"
              on:input="email = $event.target.value"
              placeholder="输入邮箱地址"
            />
            <o-if :value="email && isValidEmail(email)">
              <p style="color: green">✓ 邮箱格式正确</p>
            </o-if>
            <o-else-if
              :value="email && !isValidEmail(email) && email.length > 0"
            >
              <p style="color: red">✗ 邮箱格式不正确</p>
            </o-else-if>
            <o-else>
              <p style="color: orange">请输入邮箱地址进行验证</p>
            </o-else>
          </div>
          <script>
            export default async () => {
              return {
                data: {
                  email: "",
                },
                proto: {
                  isValidEmail(email) {
                    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                    return emailRegex.test(email);
                  },
                },
              };
            };
          </script>
        </template>
      </code>
    </o-playground> -->
  </body>
</html>
